@startuml "Système d'évaluation des enseignants"
left to right direction
skinparam packageStyle rectangle

' Définition des acteurs
actor "Étudiant" as Etudiant
actor "Enseignant" as Enseignant
actor "Administrateur\n(Responsable pédagogique)" as Admin

' Acteurs secondaires
actor "Système de notification" as SysNotif
actor "Base de données" as BDD

' Package du système
rectangle "Système d'évaluation des enseignants" {
  
  ' Cas d'utilisation - Gestion des évaluations
  package "Gestion des évaluations" {
    usecase "Remplir une évaluation" as UC1
    usecase "Consulter ses évaluations\nantérieures" as UC2
    usecase "Soumettre des commentaires\nanonymes" as UC3
  }
  
  ' Cas d'utilisation - Consultation des résultats
  package "Consultation des résultats" {
    usecase "Consulter ses évaluations\npersonnelles" as UC4
    usecase "Interagir avec les\ncommentaires anonymes" as UC5
    usecase "Visualiser le tableau\nde bord interactif" as UC6
    usecase "Consulter tous les\ncommentaires" as UC7
    usecase "Suivre l'évolution des\nperformances" as UC8
  }
  
  ' Cas d'utilisation - Administration
  package "Administration du système" {
    usecase "Gérer les paramètres\ndu système" as UC9
    usecase "Créer des formulaires\nd'évaluation" as UC10
    usecase "Créer des questions" as UC11
    usecase "Gérer les données\ndes enseignants" as UC12
    usecase "Gérer les données\ndes étudiants" as UC13
    usecase "Compiler des rapports\ncomplets" as UC14
    usecase "Configurer le niveau\nd'anonymat" as UC15
    usecase "Remplir des évaluations" as UC16
  }
  
  ' Cas d'utilisation - Fonctionnalités transverses
  package "Fonctionnalités système" {
    usecase "Garantir l'anonymat" as UC17
    usecase "Assurer la compatibilité\nmobile" as UC18
    usecase "Envoyer des notifications" as UC19
    usecase "Sauvegarder les données" as UC20
  }
}

' Relations Étudiant
Etudiant --> UC1
Etudiant --> UC2
Etudiant --> UC3

' Relations Enseignant
Enseignant --> UC4
Enseignant --> UC5

' Relations Administrateur (hérite des droits enseignant)
Admin --> UC6
Admin --> UC7
Admin --> UC8
Admin --> UC9
Admin --> UC10
Admin --> UC11
Admin --> UC12
Admin --> UC13
Admin --> UC14
Admin --> UC15
Admin --> UC16

' L'administrateur peut aussi consulter comme un enseignant
Admin --> UC4
Admin --> UC5

' Relations entre cas d'utilisation (include et extend)
UC1 ..> UC17 : <<include>>
UC3 ..> UC17 : <<include>>
UC1 ..> UC18 : <<include>>
UC6 ..> UC18 : <<include>>

UC10 ..> UC11 : <<include>>
UC1 ..> UC20 : <<include>>
UC14 ..> UC20 : <<include>>

UC5 ..> UC19 : <<extend>>
UC1 ..> UC19 : <<extend>>

' Relations avec acteurs secondaires
UC17 --> BDD
UC20 --> BDD
UC19 --> SysNotif

' Notes explicatives
note right of UC17
  Le niveau d'anonymat est
  configurable par l'administrateur
end note

note right of UC6
  Affiche les résultats d'évaluation
  et l'évolution des performances
end note

note right of UC10
  Système de génération dynamique
  de formulaires personnalisés
end note

@enduml
